# First laboratory work for Alghoritms of Operation Research (AOR)


#### 21 AMI-2
Golubev George  
Tolmachev Maksim  
Osipenko Ilya

# Результаты

----

## Первый эксперимент
Время во всех экспермиентах указано в миллисекундах


---
|File                              |Text Length|Pattern length|Naive avg_time      |KMP avg_time|RabinKarp avg_time |Naive comparisons|KMP comparisons      |RabinKarp comparisons|
|----------------------------------|-----------|--------------|--------------------|------------|--------------------|-----------------|---------------------|---------------------|
|bad_t_1.txt                       |10         |2             |0.002300262451171875|0.002129077911376953|0.002835512161254883|27.0             |28.0                 |12.0                 |
|bad_t_2.txt                       |100        |10            |0.02040553092956543 |0.0230405330657959|0.022913217544555664|1001.0           |290.0                |102.0                |
|bad_t_3.txt                       |1000       |100           |0.21490979194641113 |0.2549123764038086|0.24477410316467282 |91001.0          |2900.0               |1002.0               |
|bad_t_4.txt                       |5000       |1000          |1.2939245700836182  |1.3587391376495361|1.175182819366455   |4005001.0        |14000.0              |5002.0               |
|good_t_1.txt                      |694        |17            |0.17260527610778809 |0.1378476619720459|0.22014188766479492 |12204.0          |1407.0               |696.0                |
|good_t_2.txt                      |1158       |85            |0.2776501178741455  |0.21866250038146973|0.3597898483276367  |92364.0          |2316.0               |1160.0               |
|good_t_3.txt                      |3438       |381           |0.895566463470459   |0.774667501449585|1.1014440059661865  |1168156.0        |6977.0               |3440.0               |
|good_t_4.txt                      |10714      |92            |2.7541751861572266  |2.1657326221466064|3.6057546138763428  |987939.0         |21428.0              |10716.0              |

## Второй эксперимент

---

|File                              |Text Length|Pattern length|Naive avg_time      |KMP avg_time|RabinKarp avg_time  |Naive comparisons|KMP comparisons      |RabinKarp comparisons|
|----------------------------------|-----------|--------------|--------------------|------------|--------------------|-----------------|---------------------|---------------------|
|bad_t_1.txt                       |10         |2             |0.004549264907836914|0.002157926559448242|0.003206491470336914|27.0             |28.0                 |12.0                 |
|bad_t_2.txt                       |100        |10            |0.06390905380249023 |0.0232088565826416|0.023473501205444336|1001.0           |290.0                |102.0                |
|bad_t_3.txt                       |1000       |100           |2.9871530532836914  |0.2549705505371094|0.24328064918518066 |91001.0          |2900.0               |1002.0               |
|bad_t_4.txt                       |5000       |1000          |152.27085947990417  |1.3212933540344238|1.193284034729004   |4005001.0        |14000.0              |5002.0               |
|good_t_1.txt                      |694        |17            |0.34276318550109863 |0.138671875 |0.21974754333496094 |1392.0           |1407.0               |696.0                |
|good_t_2.txt                      |1158       |85            |0.5457184314727783  |0.21747779846191406|0.3654956817626953  |2232.0           |2316.0               |1160.0               |
|good_t_3.txt                      |3438       |381           |1.7581264972686768  |0.7766067981719971|1.1177539825439453  |6612.0           |6977.0               |3440.0               |
|good_t_4.txt                      |10714      |92            |5.445505142211914   |2.105520725250244|3.6695446968078613  |21337.0          |21428.0              |10716.0              |

### Пояснение

---
Всего мы провели два эксперимента, которые отличаются функцией сравнения строк для наивного алогритма и алгоритма Рабина-Карпа. 
Мы посчитали, что не совсем корректно сравнивать скорость нахождения подстроки с помощью алгоритма Кнута-Морриса-Пратта (КМП) и например наивного алгоритма, в том случае если в реализации второго используется \'обычное\' сравнение строк. 
В алгоритме КМП нам необходимо поэлементно сравнивать символы текста и паттерна. Сравнение строк происходит точно по такому же принципу, но большое отличие заключается в том, что сравнение символов в КМП происходит с помощью цикла (требование алгоритма), который просто работает медленнее обычного сравнения строк по средством ``==``. 
Поэтому мы написали две функции компаратора, которые используются в первом и втором эксперементе соответсвенно.

#### Первая функция

---

```python
def compare_builtin(str1: str, str2: str) -> tuple[bool, int]:
    return str1 == str2, len(str1)

```

#### Вторая функция

---

```python

def compare(str1: str, str2: str) -> tuple[bool, int]:
    if len(str1) != len(str2):
        return False, 1

    counter = 0
    for a, b in zip(str1, str2):
        counter += 1
        if a != b:
            return False, counter
    return True, counter

```
